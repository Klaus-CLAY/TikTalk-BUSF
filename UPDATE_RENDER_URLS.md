# üîó How to Update Your Render Server URLs

## üìç Step 1: Get Your Server URLs from Render Dashboard

### Backend Server URL (TikTalk-Server)

1. Go to [Render Dashboard](https://dashboard.render.com)
2. Click on **"TikTalk-Server"** service
3. At the top of the page, you'll see the URL like:
   ```
   https://tiktalk-server-abc123.onrender.com
   ```
   ‚ö†Ô∏è **Note**: The suffix (like `abc123`) is randomly generated by Render - yours will be different!
4. **Copy this entire URL** (including https://) - it will look something like `https://tiktalk-server-[random-suffix].onrender.com`

### Frontend URL (TikTalk-BUSF)

1. In Render Dashboard, click on **"TikTalk-BUSF"** service
2. At the top, you'll see the URL like:
   ```
   https://tiktalk-busf-xyz789.onrender.com
   ```
   ‚ö†Ô∏è **Note**: The suffix (like `xyz789`) is randomly generated by Render - yours will be different!
3. **Copy this entire URL** - it will look something like `https://tiktalk-busf-[random-suffix].onrender.com`

## ‚öôÔ∏è Step 2: Update config.js

Open `config.js` and update line 16:

```javascript
const MANUAL_SERVER_URL = 'https://tiktalk-server-xxxx.onrender.com'; // Replace xxxx with your actual Render URL
```

**Important**: Replace the entire URL with what you copied from Render Dashboard. For example, if Render shows `https://tiktalk-server-abc123.onrender.com`, use that exact URL (not `xxxx`).

## üîß Step 3: Update Backend Environment Variable

1. Go to Render Dashboard ‚Üí **TikTalk-Server** ‚Üí **Environment**
2. Find the `FRONTEND_URL` variable
3. Update it with your **actual** frontend URL from Render (e.g., `https://tiktalk-busf-xyz789.onrender.com`)
4. Click **Save Changes** (this will restart the server)

## ‚úÖ Step 4: Verify Connection

1. **Test Backend Health:**
   - Visit: `https://your-server-url.onrender.com/health`
   - Should return: `{"status":"ok","timestamp":"...","activeUsers":0,...}`

2. **Test Frontend:**
   - Visit your frontend URL
   - Open browser console (F12)
   - Look for: `‚úÖ Server health check passed`
   - Connection status should show "Connected"

## üöÄ Step 5: Deploy Changes

After updating `config.js`:

1. Commit the changes:
   ```bash
   git add config.js
   git commit -m "Update server URL"
   git push
   ```

2. Render will automatically redeploy your frontend

## üîç Current Auto-Detection

The app will **automatically try** to connect to:
- If frontend is `https://tiktalk-busf-[suffix].onrender.com`
- It will try: `https://tiktalk-server-[suffix].onrender.com`
- ‚ö†Ô∏è **This only works if both services have the same random suffix!**

**However**, if your Render URLs don't follow this pattern, you **must** set `MANUAL_SERVER_URL` in `config.js`.

## üêõ Troubleshooting

### Connection fails?
1. Check browser console (F12) for errors
2. Verify server URL in console logs
3. Test `/health` endpoint directly
4. Make sure `FRONTEND_URL` is set in backend environment variables

### CORS errors?
- Update `FRONTEND_URL` in backend environment variables
- Make sure it matches your exact frontend URL (with https://)

### Still not working?
- Double-check both URLs are correct
- Make sure both services are "Live" in Render dashboard
- Check Render logs for any errors

